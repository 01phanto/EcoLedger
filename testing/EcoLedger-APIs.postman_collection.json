{
  "info": {
    "name": "EcoLedger APIs",
    "description": "Complete API collection for EcoLedger mangrove plantation verification and carbon credits system",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:5000",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/",
          "host": ["{{base_url}}"],
          "path": [""]
        }
      },
      "response": []
    },
    {
      "name": "AI Models",
      "item": [
        {
          "name": "Tree Count Detection",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "image",
                  "type": "file",
                  "src": "",
                  "description": "Upload drone/satellite image for tree detection"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/treecount",
              "host": ["{{base_url}}"],
              "path": ["treecount"]
            }
          },
          "response": []
        },
        {
          "name": "NDVI Analysis",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "image",
                  "type": "file",
                  "src": "",
                  "description": "Upload satellite/drone image for NDVI analysis"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/ndvi",
              "host": ["{{base_url}}"],
              "path": ["ndvi"]
            }
          },
          "response": []
        },
        {
          "name": "IoT Sensor Processing (JSON)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"readings\": [\n    {\n      \"soil_moisture\": 75.2,\n      \"temperature\": 27.5,\n      \"salinity\": 25.1,\n      \"ph\": 7.4,\n      \"dissolved_oxygen\": 6.2\n    },\n    {\n      \"soil_moisture\": 73.8,\n      \"temperature\": 28.1,\n      \"salinity\": 24.8,\n      \"ph\": 7.5,\n      \"dissolved_oxygen\": 6.0\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/iot",
              "host": ["{{base_url}}"],
              "path": ["iot"]
            }
          },
          "response": []
        },
        {
          "name": "IoT Sensor Processing (CSV)",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": "",
                  "description": "Upload CSV file with IoT sensor data"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/iot",
              "host": ["{{base_url}}"],
              "path": ["iot"]
            }
          },
          "response": []
        },
        {
          "name": "CO2 Absorption Calculation",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"tree_count\": 150,\n  \"tree_age\": \"mature\",\n  \"species\": \"rhizophora\",\n  \"environmental_condition\": \"good\",\n  \"project_duration\": 10,\n  \"survival_rate\": 0.85\n}"
            },
            "url": {
              "raw": "{{base_url}}/co2",
              "host": ["{{base_url}}"],
              "path": ["co2"]
            }
          },
          "response": []
        },
        {
          "name": "Final Score Calculation",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"tree_count\": 150,\n  \"claimed_trees\": 160,\n  \"ndvi_score\": 0.85,\n  \"iot_score\": 0.78,\n  \"audit_check\": 0.9\n}"
            },
            "url": {
              "raw": "{{base_url}}/finalscore",
              "host": ["{{base_url}}"],
              "path": ["finalscore"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Blockchain Ledger",
      "item": [
        {
          "name": "Submit Report to Ledger",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ngo_id\": \"NGO_001\",\n  \"project_name\": \"Mangrove Restoration Project\",\n  \"location\": \"Sundarbans, Bangladesh\",\n  \"verification_results\": {\n    \"tree_count\": 150,\n    \"claimed_trees\": 160,\n    \"final_score\": 0.825,\n    \"co2_absorbed_kg\": 1845,\n    \"carbon_credits\": 1.521\n  },\n  \"ai_scores\": {\n    \"ai_tree_score\": 0.938,\n    \"ndvi_score\": 0.85,\n    \"iot_score\": 0.78,\n    \"audit_check\": 0.9\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/ledger/submit",
              "host": ["{{base_url}}"],
              "path": ["ledger", "submit"]
            }
          },
          "response": []
        },
        {
          "name": "Query Report from Ledger",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/ledger/query/{{report_id}}",
              "host": ["{{base_url}}"],
              "path": ["ledger", "query", "{{report_id}}"],
              "variable": [
                {
                  "key": "report_id",
                  "value": "",
                  "description": "Report ID from submit response"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Issue Carbon Credits",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ngo_id\": \"NGO_001\",\n  \"credits_amount\": 1.521,\n  \"report_id\": \"{{report_id}}\",\n  \"price_per_credit\": 15.0\n}"
            },
            "url": {
              "raw": "{{base_url}}/ledger/issue",
              "host": ["{{base_url}}"],
              "path": ["ledger", "issue"]
            }
          },
          "response": []
        },
        {
          "name": "Transfer Carbon Credits",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"from_id\": \"NGO_001\",\n  \"to_id\": \"COMPANY_001\",\n  \"credits_amount\": 1.0,\n  \"price\": 15.0\n}"
            },
            "url": {
              "raw": "{{base_url}}/ledger/transfer",
              "host": ["{{base_url}}"],
              "path": ["ledger", "transfer"]
            }
          },
          "response": []
        },
        {
          "name": "Get Marketplace Credits",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/ledger/marketplace",
              "host": ["{{base_url}}"],
              "path": ["ledger", "marketplace"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Test Scenarios",
      "item": [
        {
          "name": "Excellent Conditions Flow",
          "item": [
            {
              "name": "Step 1: IoT Processing",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"readings\": [\n    {\"soil_moisture\": 75, \"temperature\": 27, \"salinity\": 25, \"ph\": 7.5, \"dissolved_oxygen\": 6},\n    {\"soil_moisture\": 78, \"temperature\": 26, \"salinity\": 23, \"ph\": 7.4, \"dissolved_oxygen\": 6.2},\n    {\"soil_moisture\": 72, \"temperature\": 28, \"salinity\": 27, \"ph\": 7.6, \"dissolved_oxygen\": 5.8}\n  ]\n}"
                },
                "url": {
                  "raw": "{{base_url}}/iot",
                  "host": ["{{base_url}}"],
                  "path": ["iot"]
                }
              }
            },
            {
              "name": "Step 2: CO2 Calculation",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"tree_count\": 150\n}"
                },
                "url": {
                  "raw": "{{base_url}}/co2",
                  "host": ["{{base_url}}"],
                  "path": ["co2"]
                }
              }
            },
            {
              "name": "Step 3: Final Score",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"tree_count\": 150,\n  \"claimed_trees\": 160,\n  \"ndvi_score\": 0.85,\n  \"iot_score\": 0.9,\n  \"audit_check\": 0.9\n}"
                },
                "url": {
                  "raw": "{{base_url}}/finalscore",
                  "host": ["{{base_url}}"],
                  "path": ["finalscore"]
                }
              }
            }
          ]
        },
        {
          "name": "Poor Conditions Flow",
          "item": [
            {
              "name": "Step 1: IoT Processing",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"readings\": [\n    {\"soil_moisture\": 25, \"temperature\": 45, \"salinity\": 50, \"ph\": 6.2, \"dissolved_oxygen\": 2.5},\n    {\"soil_moisture\": 28, \"temperature\": 44, \"salinity\": 48, \"ph\": 6.1, \"dissolved_oxygen\": 2.8},\n    {\"soil_moisture\": 22, \"temperature\": 46, \"salinity\": 52, \"ph\": 6.0, \"dissolved_oxygen\": 2.2}\n  ]\n}"
                },
                "url": {
                  "raw": "{{base_url}}/iot",
                  "host": ["{{base_url}}"],
                  "path": ["iot"]
                }
              }
            },
            {
              "name": "Step 2: Final Score",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"tree_count\": 60,\n  \"claimed_trees\": 150,\n  \"ndvi_score\": 0.35,\n  \"iot_score\": 0.2,\n  \"audit_check\": 0.6\n}"
                },
                "url": {
                  "raw": "{{base_url}}/finalscore",
                  "host": ["{{base_url}}"],
                  "path": ["finalscore"]
                }
              }
            }
          ]
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ]
}